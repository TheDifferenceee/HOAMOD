#	joint_focus = {
#		id = NORDIC_
#		icon = GFX_
#		prerequisite = { focus = }
#		mutually_exclusive = { focus =  }
#		x = -3
#		y = 0
#		relative_position_id = 
#
#		cost = 10
#
#		ai_will_do = {
#			factor = 1
#		}
#
#		joint_trigger = {
#  			NORDIC_basic_joint_trigger = yes 
#		}
#
#	available = {
#
#		}
#		
#		bypass = {
#
#		}
#
#		cancel_if_invalid = yes
#		continue_if_invalid = no
#		available_if_capitulated = no
#
#		complete_tooltip = {
#
#		}
#
#		completion_reward = {
#
#		}
#	}
### search_filters = {FOCUS_FILTER_POLITICAL}
### search_filters = {FOCUS_FILTER_RESEARCH}
### search_filters = {FOCUS_FILTER_INDUSTRY}
### search_filters = {FOCUS_FILTER_STABILITY}
### search_filters = {FOCUS_FILTER_WAR_SUPPORT}
### search_filters = {FOCUS_FILTER_MANPOWER}
### search_filters = {FOCUS_FILTER_ANNEXATION}


shared_focus = {
	id = NORDIC_form_joint_alliance
	
	dynamic = yes 
	
	icon = {
		trigger = {
			NORDIC_democratic_alliance_viable = yes  
		}
		value = GFX_focus_NORDIC_dem_form_alliance
	}
	icon = {
		trigger = {
			NORDIC_communist_alliance_viable = yes 
		}
		value = GFX_focus_NORDIC_com_form_alliance
	}
	icon = {
		trigger = {
			NORDIC_monarchist_alliance_viable = yes 
		}
		value = GFX_focus_NORDIC_mon_form_alliance
	}
	
	#prerequisite = { focus = NORDIC_strengthen_ties }
	#prerequisite = { focus = NORDIC_mutual_guarantees }

	allow_branch = {
		has_dlc = "Arms Against Tyranny"
	}

	x = 40
	y = 15
	#FINLAND
	offset = {
		x = 53
		y = -15
		trigger = {
			has_focus_tree = finnish_focus
		}
	}

	offset = {
		x = -30
		y = 0
		trigger = {
			has_focus_tree = finnish_focus
			has_game_rule = {
				rule = obsolete_focus_branches_visibility
				option = HIDE
			}
			has_completed_focus = FIN_finnish_neutrality
		}
	}

	offset = {
		x = -27
		y = 0
		trigger = {
			has_focus_tree = finnish_focus
			has_game_rule = {
				rule = obsolete_focus_branches_visibility
				option = HIDE
			}
			has_completed_focus = FIN_suomalainen_sosialismi
		}
	}

	offset = {
		x = -25
		y = 0
		trigger = {
			has_focus_tree = finnish_focus
			has_game_rule = {
				rule = obsolete_focus_branches_visibility
				option = HIDE
			}
			has_completed_focus = FIN_right_wing_policies
		}
	}

	#SWEDEN
	offset = {
		x = -3 # -1
		y = -15 #-15
		trigger = {
			has_focus_tree = sweden_focus
		}
	}

	#DENMARK
	offset = {
		x = 43
		y = -15
		trigger = {
			has_focus_tree = danish_focus
		}
	}

	offset = {
		x = 20
		y = 0
		trigger = {
			has_focus_tree = danish_focus
			has_game_rule = {
				rule = obsolete_focus_branches_visibility
				option = SHOW
			}
			is_subject = yes
		}
	}

	offset = {
		x = -17
		y = 0
		trigger = {
			has_focus_tree = danish_focus
			has_game_rule = {
				rule = obsolete_focus_branches_visibility
				option = HIDE
			}
			has_completed_focus = DEN_political_unity
		}
	}

	offset = {
		x = -18
		y = 0
		trigger = {
			has_focus_tree = danish_focus
			has_game_rule = {
				rule = obsolete_focus_branches_visibility
				option = HIDE
			}
			has_completed_focus = DEN_unify_the_right
		}
	}

	offset = {
		x = -37
		y = 0
		trigger = {
			has_focus_tree = danish_focus
			has_game_rule = {
				rule = obsolete_focus_branches_visibility
				option = HIDE
			}
			is_subject = yes
		}
	}

	offset = {
		x = 18
		y = 0
		trigger = {
			has_focus_tree = danish_focus
			has_game_rule = {
				rule = obsolete_focus_branches_visibility
				option = HIDE
			}
			is_subject = yes
			OR = {
				has_completed_focus = DEN_political_unity
				has_completed_focus = DEN_unify_the_right
			}
		}
	}

	offset = {
		x = 20
		y = 0
		trigger = {
			has_focus_tree = danish_focus
			has_game_rule = {
				rule = obsolete_focus_branches_visibility
				option = HIDE
			}
			OR = {
				AND = {
					is_subject = yes
					has_country_flag = DEN_unlock_military_branch_flag
				}
				AND = {
					is_subject = no
					has_country_flag = DEN_unlock_military_branch_flag
				}
				AND = {
					is_subject = no
					has_country_flag = DEN_has_occupation_flag
				}
			}
		}
	}

	#NORWAY
	offset = {
		x = 70 #So close 
		y = -15
		trigger = {
			has_focus_tree = norwegian_focus
		}
	}

	offset = {
		x = -40
		trigger = {
			has_focus_tree = norwegian_focus 
			has_hide_rule = yes 
			OR = {
				has_completed_focus = NOR_vote_of_no_confidence
				has_completed_focus = NOR_continue_nygaardsvold_government
			}
		}
	}

	offset = {
		x = -38
		trigger = {
			has_focus_tree = norwegian_focus 
			has_hide_rule = yes 
			has_completed_focus = NOR_a_resurgent_labor_movement
		}
	}

	offset = {
		x = -1
		trigger = {
			has_focus_tree = norwegian_focus 
			has_hide_rule = yes 
			has_completed_focus = NOR_prosecute_the_nkp
		}
	}

	offset = {
		x = -2
		trigger = {
			has_focus_tree = norwegian_focus 
			has_hide_rule = yes 
			has_completed_focus = NOR_compromise_with_the_nkp
		}
	}
		
	offset = {
		x = -35
		trigger = {
			has_focus_tree = norwegian_focus 
			has_hide_rule = yes 
			has_completed_focus = NOR_the_stumbling_storting
		}
	}

	offset = {
		x = -8
		trigger = {
			has_focus_tree = norwegian_focus 
			has_hide_rule = yes 
			has_completed_focus = NOR_lurk_in_the_shadows
		}
	}

	offset = {
		x = -3
		trigger = {
			has_focus_tree = norwegian_focus 
			has_hide_rule = yes 
			has_completed_focus = NOR_the_chamberlains_overture
		}
	}

	#ICELAND
	offset = {
		x = 15
		y = -15
		trigger = {
			has_focus_tree = iceland_tree
		}
	}
	#relative_position_id = NORDIC_mutual_guarantees
	cost = 10

	text_icon = NORDIC_focus_style

	available = {
		
		is_faction_leader = yes 
		any_allied_country = {
			NORDIC_is_nordic = yes 
		}	
		is_subject = no 
		NORDIC_alliance_created_already = no 
		IF = {
			limit = { original_tag = SWE }
			NOT ={ has_completed_focus = SWE_central_nordic_army_command }
		}
		IF = {
			limit = { original_tag = FIN }
			NOT ={ has_completed_focus = FIN_finnish_supremacy_in_the_north }
		}
	}
	ai_will_do = {
		base = 1
		modifier = {
			factor = 0
			is_historical_focus_on = yes 
		}
	}

	search_filters = { FOCUS_FILTER_POLITICAL }

	completion_reward = {
		if = {
			limit = {	
				NORDIC_alliance_created_already = no
			}
			hidden_effect = {
				every_country = {
					limit = {
						is_in_faction_with = ROOT
						NORDIC_is_nordic = yes
					}
					set_country_flag = NORDIC_already_member_flag
				}
			}
			NORDIC_create_nordic_alliance = yes 

		}
	}
}



